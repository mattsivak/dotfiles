# SETTINGS
set -g mouse on
set-option -g history-limit 5000

set -g base-index 1
setw -g pane-base-index 1
set -g renumber-windows on

# Don't do anything when a 'bell' rings
set -g visual-activity off
set -g visual-bell off
set -g visual-silence off
setw -g monitor-activity off
set -g bell-action none

# REST
set -g @minimal-tmux-status "top" 

# Plugins
set -g @plugin 'tmux-plugins/tpm'

set -g @plugin 'niksingh710/minimal-tmux-status'

set -g @plugin 'l-lin/tmux-window-switcher'

run '~/.tmux/plugins/tpm/tpm'

# Keybindings
set -g prefix C-f
#set-option -g prefix S-Space

unbind c

set -g @tmux-window-switcher-key-binding 'z'
set -g @tmux-window-switcher-order-strategy 'index'

bind r source-file ~/.tmux.conf \; display-message "Config reloaded..."
bind n command-prompt -p "Session name:" "new-session -A -s '%%' -c '/Users/mattsivak/code'"
bind c new-window -c "#{pane_current_path}"
bind Space set-option status

# TMS Integration
# Override default session switcher (prefix-s) with TMS
unbind s
bind s display-popup -E -x C -y C -w 80% -h 70% "/Users/mattsivak/.local/bin/tms"

# Quick project jump (opens in new window, no popup)
bind f run-shell "tmux neww /Users/mattsivak/.local/bin/tms"

# Kill current session and switch to another
bind K display-popup -E -x C -y C -w 60% -h 40% "/Users/mattsivak/.local/bin/tms kill"

# Create new session with TMS
bind N display-popup -E -x C -y C -w 80% -h 70% "/Users/mattsivak/.local/bin/tms create"

# Quick switch - smaller popup for faster switching between active sessions
bind S display-popup -E -x C -y C -w 50% -h 30% "/Users/mattsivak/.local/bin/tms"

# Work sessions launcher (your zapfloor replacement)
# This will need a custom script since TMS doesn't have built-in work sessions
bind W run-shell "~/dotfiles/.scripts/startzapfloor.sh"



